'use strict';const alreadyInjected={},styleTag=document.querySelector('style[data-aphrodite]');function getStyleKey(a,b){if('object'==typeof b){const a=b.selectorText||b.cssRules[0].selectorText,c=b.conditionText||'';return a+c.replace(' ','')}}class SCView extends window.HTMLElement{createdCallback(){for(var a in this._view=null,this._isRemote=null!==this.getAttribute('remote'),styleTag.sheet.rules)alreadyInjected[getStyleKey(styleTag,styleTag.sheet.rules[a])]=!0}get route(){return this.getAttribute('route')||null}_loadStyles(a){const b=a.sheet.rules||a.sheet.cssRules;for(var c in b){const a=getStyleKey(styleTag,b[c]);alreadyInjected[a]||(styleTag.sheet.insertRule(b[c].cssText),alreadyInjected[a]=!0)}}_loadView(a){this._view=new window.DocumentFragment;const b=new window.XMLHttpRequest;b.onload=(a)=>{const b=a.target.response,c=b.querySelector('sc-view'),d=b.querySelector('style');c.childNodes.forEach((a)=>this._view.appendChild(a)),this.appendChild(this._view),this._loadStyles(d)},b.responseType='document',b.open('GET',`${a[0]}?partial`),b.send()}in(a){return this._isRemote&&!this._view&&this._loadView(a),new Promise((a)=>{const b=()=>{this.removeEventListener('transitionend',b),a()};this.classList.add('visible'),this.addEventListener('transitionend',b)})}out(){return new Promise((a)=>{const b=()=>{this.removeEventListener('transitionend',b),a()};this.classList.remove('visible'),this.addEventListener('transitionend',b)})}update(){return Promise.resolve()}}class CustomForm extends window.HTMLElement{connectedCallback(){const a=this.firstChild,b=a.querySelectorAll('input, textarea');b.forEach((a)=>{a.oninput=function(){this.parentNode.getElementsByTagName('label')[0].style.display=this.value?'none':'block'}}),a.onsubmit=function(b){window.fetch(a.action,{method:a.method||'POST',body:new window.FormData(a)}).then(function(a){return a.text()}).then(function(b){if('success'===b){const b=a.parentNode.parentNode,c=b.getElementsByTagName('h1')[0],d=b.getElementsByTagName('h2')[0];c.innerText='Thanks!',d.innerText='You can expect a reply within a day',a.style.display='none'}}),b.preventDefault()}}}class CustomNav extends window.HTMLElement{attributeChangedCallback(a,b,c){const d=this.querySelectorAll('a'),e='/'===c;d.forEach((a)=>{const b='logo'===a.id,d=a.getAttribute('href');b&&e?a.style.display='none':b?a.style.display=null:e?(a.style.left='0px',a.style.transform='translateX(0px)'):(a.style.left=null,a.style.transform=null),a.style.borderBottom=d===c?'1px solid rgba(0,0,0,5)':null})}}window.customElements.define('sc-form',CustomForm),document.registerElement('sc-nav',CustomNav),document.registerElement('sc-view',SCView);